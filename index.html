<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add a map to a webpage</title>
<script src="https://cdn.maptiler.com/maptiler-sdk-js/v1.1.1/maptiler-sdk.umd.js"></script>
<link rel='stylesheet' href='https://unpkg.com/maplibre-gl@3.3.1/dist/maplibre-gl.css' />
<script src='https://unpkg.com/maplibre-gl@3.3.1/dist/maplibre-gl.js'></script>
<link href="https://cdn.maptiler.com/maptiler-sdk-js/v1.1.1/maptiler-sdk.css" rel="stylesheet" />
<link href='https://www.unpkg.com/@watergis/maplibre-gl-legend@latest/dist/maplibre-gl-legend.css' rel='stylesheet' />
<script src="https://www.unpkg.com/@watergis/maplibre-gl-legend@latest/dist/maplibre-gl-legend.umd.js"></script>
<script src="data/Test.geojson"></script>
<style>
  body {margin: 0; padding: 0;}
  #map {position: absolute; top: 0; bottom: 0; width: 100%;}
</style>
</head>
<body>// 3857 to 4326
<div id="map"></div>
  <script>
    maptilersdk.config.apiKey = 'upK2HQ8GCr8vMKjdFvuS';
    const map = new maptilersdk.Map({
      container: 'map', // container id
      style: 'ocean',
      center: [287.210788, 40.073027], // starting position [lng, lat]
      zoom: 6.12, // starting zoom
      pitch: 76,
      bearing: -20,
      maxPitch: 85,
    });
    

    map.on('load', () => {
        map.addSource('national-park', {
            'type': 'geojson',
            'data': 'data/Test.geojson'
        });

        map.addLayer({
            'id': 'parkboundary',
            'type': 'fill',
            'source': 'national-park',
            'paint': {
                'fill-color': '#B42222',
                'fill-opacity': 0.4
            },
            'filter': ['==', 'SEDIMENT', "0.03 - 0.17 Sand"]
        });

        map.addLayer({
            'id': 'park-volcanoes',
            'type': 'circle',
            'source': 'national-park',
            'paint': {
                'circle-radius': 6,
                'circle-color': '#B42222'
            },
            'filter': ['==', '$type', 'Point']
        });
    });
    map.on('load', function() {
  const targets = {
    Residential: "Residential",
    parkboundary: "parkboasdfundary",
    Water: "Water",
    Building: "Building",
    Airport: "Airport",
    "Other POI": "Pois",
  };
  const options = {
    showDefault: true,
    showCheckbox: true,
    onlyRendered: true,
    reverseOrder: true
  };
  map.addControl(new MaplibreLegendControl.MaplibreLegendControl(targets, options), "bottom-left");
});


  </script>
</body>
</html>

